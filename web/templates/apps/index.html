{% extends "base.html" %}

{% block title %}Apps - LED Display{% endblock %}

{% block content %}
<div class="apps-list">
    <h1>Apps</h1>

    <div class="app-cards">
        {% for name, app in apps.items() %}
        <div class="card app-card-large {% if not app.enabled %}disabled{% endif %}">
            <div class="app-header">
                <h2>{{ app.display_name }}</h2>
                <span class="badge {% if app.enabled %}badge-success{% else %}badge-muted{% endif %}">
                    {{ 'Enabled' if app.enabled else 'Disabled' }}
                </span>
            </div>
            <p class="app-description">{{ app.description }}</p>

            {% if app.requires_credentials %}
            <p class="credential-notice">
                <span class="icon">&#128273;</span>
                Requires credentials
            </p>
            {% endif %}

            <div class="app-actions">
                <a href="/apps/{{ name }}" class="btn btn-primary">Configure</a>
                <form action="/app/{{ name }}/activate" method="POST" class="inline-form">
                    <button type="submit" class="btn btn-secondary" {% if not app.enabled %}disabled{% endif %}>
                        Activate
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
